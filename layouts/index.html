{{ define "head" }}
<script type="text/javascript">

function animate(items, clazz) {
  (function show(counter) {
    setTimeout(function() {
      items[counter].classList.add(clazz);
      counter++;
      if (counter < items.length) show(counter);
    }, 50);
  })(0);
}

function showSection(name) {
	removeClass(_('main div.show'), 'show');
	addClass(_('#' + name), 'show');
	removeClass(_('.background.show'), 'show');
	addClass(_('#' + name + '-back'), 'show');
}


ready(() => {
  const links = __('nav a');
  animate(links, 'view');
  Array.prototype.forEach.call(links, function(el, i) {
  	el.addEventListener('click', event => {
  		showSection(el.textContent);
  })});
  addClass(_('#razvigor'), 'show');
});
</script>
<style type="text/css">
body {
  overflow: hidden;
}
div.background {
	display: none;
}
main div.wrapper div {
	display: none;
}
</style>
{{ end }}
{{ define "main" }}

{{ partial "nav" }}

<main><div class="wrapper">
	<div id="razvigor">
		<h2>Razvigor</h2>
		Ime za vetar koji počinje da duva u rano proleće. Ovaj vetar budi prirodu, i biljke i životinje, a tako i treperi kako devojačko tako i momačko srce. Razvigore su tako vile koje pozivaju prirodu da se probudi.
	</div>
	<div id="unheart">
		<h2>Unheart</h2>
		our hearts are meant to be broken. that is the only way we know we have lived.
	</div>
	<div id="vi">
		<h2>Visual Interaction</h2>
	</div>
</div></div>


<div id="razvigor-back" class="background">
	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none" class="diag-top">
	   <polygon fill="red" points="0,0 0,100 100,30 100,0"/>
	</svg>
	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none" class="diag-bottom">
	   <polygon fill="red" points="0,100 20,100 100,0 100,100"/>
	</svg>
	<div class="txt txt-top">RAZVIGOR</div>
	<div class="txt txt-bottom">RAZVIGOR</div>
</div>
<div id="unheart-back" class="background">
	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none" class="diag-top">
	   <polygon fill="red" points="0,0 0,100 100,30 100,0"/>
	</svg>
	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none" class="diag-bottom">
	   <polygon fill="red" points="0,100 20,100 100,0 100,100"/>
	</svg>
	<div class="txt txt-top">UNHEART</div>
	<div class="txt txt-bottom">UNHEART</div>
</div>

{{ end }}